<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI æ¨¡æ‹Ÿé¢è¯•</title>
    <style>
        /* --- å…¨å±€æ ·å¼ --- */
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f8f9fa;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            padding-bottom: 90px;
        }

        .container {
            background-color: #ffffff;
            width: 100%;
            max-width: 500px;
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* --- é¡¶éƒ¨ Header --- */
        .header {
            padding: 20px 25px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header h2 { margin: 0; font-size: 18px; color: #333; font-weight: 700; }
        .progress-text { font-size: 14px; color: #007bff; font-weight: 600; }

        /* è¿›åº¦æ¡ */
        .progress-container { height: 4px; background: #f0f0f0; width: 100%; }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #007bff, #00c6ff);
            width: 0%; /* JSåŠ¨æ€æ§åˆ¶ */
            transition: width 0.3s ease;
            border-radius: 0 4px 4px 0;
        }

        /* --- é—®é¢˜åŒºåŸŸ --- */
        .interview-problem { padding: 25px; background-color: #fff; min-height: 120px; }
        .q-tag {
            display: inline-block; background: #eef5ff; color: #007bff;
            padding: 4px 10px; border-radius: 20px; font-size: 12px;
            font-weight: bold; margin-bottom: 12px;
        }
        .q-content { font-size: 18px; font-weight: 600; color: #222; line-height: 1.5; }

        /* --- å›ç­”åŒºåŸŸ --- */
        .interview-answer { padding: 0 25px 20px 25px; position: relative; }
        .answer-box {
            width: 100%; padding: 15px; border-radius: 12px;
            border: 2px solid #eee; background-color: #fcfcfc;
            font-size: 15px; line-height: 1.6; resize: none;
            outline: none; transition: all 0.3s ease; color: #333;
            min-height: 180px;
        }
        .answer-box:focus {
            border-color: #007bff; background-color: #fff;
            box-shadow: 0 0 0 4px rgba(0, 123, 255, 0.1);
        }
        .word-count { text-align: right; font-size: 12px; color: #999; margin-top: 5px; }

        /* --- æ“ä½œæŒ‰é’®åŒºåŸŸ --- */
        .interview-op {
            padding: 20px 25px; background-color: #fff;
            border-top: 1px solid #f5f5f5;
            display: flex; gap: 10px; justify-content: space-between;
        }

        .btn {
            flex: 1; padding: 12px; border-radius: 10px; font-size: 15px;
            font-weight: 600; cursor: pointer; border: none;
            transition: all 0.2s; display: flex; justify-content: center; align-items: center;
        }

        .btn-prev { background: #f8f9fa; color: #666; border: 1px solid #e9ecef; }
        .btn-prev:hover { background: #e2e6ea; color: #333; }
        /* ç¦ç”¨çŠ¶æ€ */
        .btn-prev:disabled { opacity: 0.5; cursor: not-allowed; }

        .btn-next { background: #007bff; color: white; box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3); }
        .btn-next:hover { background: #0069d9; transform: translateY(-1px); }

        .submit-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white; box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);
            display: none; /* é»˜è®¤éšè— */
            flex: 1; padding: 12px; border-radius: 10px; font-size: 15px;
            font-weight: 600; cursor: pointer; border: none;
        }
        .submit-btn:hover { transform: translateY(-1px); filter: brightness(1.1); }

        /* --- åº•éƒ¨å¯¼èˆªæ  --- */
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 65px; background-color: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; box-shadow: 0 -4px 20px rgba(0,0,0,0.05); z-index: 1000; border-top: 1px solid #eee; }
        .nav-item { flex: 1; text-align: center; color: #aaa; font-size: 11px; text-decoration: none; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; transition: color 0.3s; }
        .nav-item.active { color: #007bff; font-weight: 600; }
        .nav-icon { font-size: 22px; margin-bottom: 4px; }
    </style>
</head>
<body>

    <div class="container">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="header">
            <h2>ğŸ¤– AI æ¨¡æ‹Ÿé¢è¯•</h2>
            <span class="progress-text" id="progressText">1/1</span>
        </div>

        <div class="interview-problem">
            <div class="q-tag">å½“å‰é—®é¢˜</div>
            <div class="q-content" id="questionContent">
                åŠ è½½ä¸­...
            </div>
        </div>

        <div class="interview-answer">
            <textarea id="answerInput" class="answer-box" placeholder="è¯·è¾“å…¥æ‚¨çš„å›ç­”..."></textarea>
            <div class="word-count" id="wordCount">0 å­—</div>
        </div>

        <div class="interview-op">
            <button class="btn btn-prev" id="prevBtn" onclick="prevQuestion()" disabled>â¬… ä¸Šä¸€é¢˜</button>

            <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â¡</button>

            <button class="submit-btn" id="submitBtn" onclick="submitAnswer()">
                <span>âœ¨ æäº¤å¹¶è®© AI åˆ†æ</span>
            </button>
        </div>
    </div>

    <form id="interviewForm" action="/submit_interview/" method="POST" style="display:none;">
        <input type="hidden" name="answers" id="finalAnswersInput">
    </form>

    <nav class="bottom-nav">
        <div class="nav-item" onclick="location.href='/job/'">
            <span class="nav-icon">ğŸ”</span>
            <span>å·¥ä½œæ£€ç´¢</span>
        </div>
        <div class="nav-item" onclick="location.href='/resume/'">
            <span class="nav-icon">ğŸ“‹</span>
            <span>AIç®€å†åˆ†æ</span>
        </div>
        <div class="nav-item active" onclick="location.href='/interview/'">
            <span class="nav-icon">ğŸ¤–</span>
            <span>AIé¢è¯•</span>
        </div>
    </nav>

{#<script>#}
{#    // 1. ä»åç«¯è·å–é¢˜ç›®æ•°ç»„ (Jinja2 è¯­æ³•)#}
{#    // æ³¨æ„ï¼šå¦‚æœæ˜¯çº¯é™æ€æµ‹è¯•ï¼Œè¯·æ‰‹åŠ¨å®šä¹‰ const problems = ["Q1", "Q2"...];#}
{#    // const problems = {{ problems | tojson }};#}
{#    const problems = [#}
{#        "Q1: ä½ æœ€å–œæ¬¢ä»€ä¹ˆç±»å‹çš„ç”µå½±ï¼Ÿ",#}
{#        "Q2: ä½ æœ€å–œæ¬¢ä»€ä¹ˆç±»å‹çš„ç”µå½±ï¼Ÿ",#}
{#        "Q3: ä½ æœ€å–œæ¬¢ä»€ä¹ˆç±»å‹çš„ç”µå½±ï¼Ÿ",#}
{#        "Q4: ä½ æœ€å–œæ¬¢ä»€ä¹ˆç±»å‹çš„ç”µå½±ï¼Ÿ",#}
{#        "Q5: ä½ æœ€å–œæ¬¢ä»€ä¹ˆç±»å‹çš„ç”µå½±ï¼Ÿ",#}
{#        "Q6: ä½ æœ€å–œæ¬¢ä»€ä¹ˆç±»å‹çš„ç”µå½±ï¼Ÿ"#}
{#    ];#}
{##}
{#    // åˆå§‹åŒ–çŠ¶æ€#}
{#    let currentIndex = 0;#}
{#    const totalQuestions = problems.length;#}
{#    // åˆ›å»ºä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜ç”¨æˆ·çš„å›ç­”ï¼Œé•¿åº¦ä¸é¢˜ç›®æ•°é‡ä¸€è‡´#}
{#    let userAnswers = new Array(totalQuestions).fill("");#}
{##}
{#    // è·å– DOM å…ƒç´ #}
{#    const progressBar = document.getElementById('progressBar');#}
{#    const progressText = document.getElementById('progressText');#}
{#    const questionContent = document.getElementById('questionContent');#}
{#    const answerInput = document.getElementById('answerInput');#}
{#    const wordCount = document.getElementById('wordCount');#}
{#    const prevBtn = document.getElementById('prevBtn');#}
{#    const nextBtn = document.getElementById('nextBtn');#}
{#    const submitBtn = document.getElementById('submitBtn');#}
{#    const form = document.getElementById('interviewForm');#}
{#    const finalAnswersInput = document.getElementById('finalAnswersInput');#}
{##}
{#    // åˆå§‹åŒ–é¡µé¢#}
{#    renderQuestion();#}
{##}
{#    // ç›‘å¬è¾“å…¥ï¼Œå®æ—¶ä¿å­˜ç­”æ¡ˆåˆ°æ•°ç»„#}
{#    answerInput.addEventListener('input', function() {#}
{#        const text = this.value;#}
{#        userAnswers[currentIndex] = text; // ä¿å­˜å½“å‰é¢˜ç›®çš„ç­”æ¡ˆ#}
{#        wordCount.textContent = text.length + ' å­—';#}
{#    });#}
{##}
{#    // æ¸²æŸ“å½“å‰é¢˜ç›®é€»è¾‘#}
{#    function renderQuestion() {#}
{#        // 1. æ›´æ–°é¢˜ç›®æ–‡å­—#}
{#        questionContent.textContent = problems[currentIndex];#}
{##}
{#        // 2. æ›´æ–°è¾“å…¥æ¡†å†…å®¹ (å›æ˜¾ä¹‹å‰å¡«å†™çš„ç­”æ¡ˆ)#}
{#        answerInput.value = userAnswers[currentIndex] || "";#}
{#        wordCount.textContent = answerInput.value.length + ' å­—';#}
{##}
{#        // 3. æ›´æ–°è¿›åº¦æ¡å’Œé¡µç #}
{#        const progressPercent = ((currentIndex + 1) / totalQuestions) * 100;#}
{#        progressBar.style.width = progressPercent + '%';#}
{#        progressText.textContent = `${currentIndex + 1}/${totalQuestions}`;#}
{##}
{#        // 4. æ§åˆ¶æŒ‰é’®çŠ¶æ€#}
{#        // ä¸Šä¸€é¢˜æŒ‰é’®#}
{#        prevBtn.disabled = (currentIndex === 0);#}
{##}
{#        // ä¸‹ä¸€é¢˜/æäº¤æŒ‰é’®#}
{#        if (currentIndex === totalQuestions - 1) {#}
{#            // æœ€åä¸€é¢˜ï¼šéšè—ä¸‹ä¸€é¢˜ï¼Œæ˜¾ç¤ºæäº¤#}
{#            nextBtn.style.display = 'none';#}
{#            submitBtn.style.display = 'flex';#}
{#        } else {#}
{#            // ä¸æ˜¯æœ€åä¸€é¢˜ï¼šæ˜¾ç¤ºä¸‹ä¸€é¢˜ï¼Œéšè—æäº¤#}
{#            nextBtn.style.display = 'flex';#}
{#            submitBtn.style.display = 'none';#}
{#        }#}
{#    }#}
{##}
{#    // ç‚¹å‡»ä¸‹ä¸€é¢˜#}
{#    function nextQuestion() {#}
{#        // ç®€å•æ ¡éªŒ (å¯é€‰)#}
{#        /* if (!answerInput.value.trim()) {#}
{#            alert("è¯·å…ˆè¾“å…¥å›ç­”~");#}
{#            return;#}
{#        }#}
{#        */#}
{##}
{#        if (currentIndex < totalQuestions - 1) {#}
{#            currentIndex++;#}
{#            renderQuestion();#}
{#        }#}
{#    }#}
{##}
{#    // ç‚¹å‡»ä¸Šä¸€é¢˜#}
{#    function prevQuestion() {#}
{#        if (currentIndex > 0) {#}
{#            currentIndex--;#}
{#            renderQuestion();#}
{#        }#}
{#    }#}
{##}
{#    // æäº¤æ‰€æœ‰ç­”æ¡ˆ#}
{#    function submitAnswer() {#}
{##}
{#        if(confirm("ç¡®å®šè¦æäº¤æ‰€æœ‰å›ç­”å¹¶ç”ŸæˆæŠ¥å‘Šå—ï¼Ÿ")) {#}
{#            // 1. å°†ç­”æ¡ˆæ•°ç»„è½¬ä¸º JSON å­—ç¬¦ä¸²#}
{#            const answersJson = JSON.stringify(userAnswers);#}
{##}
{#            // 2. èµ‹å€¼ç»™éšè—è¡¨å•#}
{#            finalAnswersInput.value = answersJson;#}
{##}
{#            // 3. æäº¤è¡¨å• (åç«¯ä¼šå¤„ç†è·³è½¬)#}
{#            // ç®€å•çš„åŠ è½½åŠ¨ç”»#}
{#            submitBtn.innerHTML = '<span>â³ å¤„ç†ä¸­...</span>';#}
{#            submitBtn.disabled = true;#}
{##}
{#            form.submit();#}
{#        }#}
{#    }#}
{#</script>#}

</body>
</html>