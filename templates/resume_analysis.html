<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ç®€å†åˆ†æ</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f4f9; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px; padding-bottom: 90px; }
        
        .header-bar { text-align: center; margin-bottom: 25px; }
        .header-title { font-size: 24px; color: #333; font-weight: 800; margin: 0; }
        .header-desc { color: #666; font-size: 14px; margin-top: 5px; }

        .container { background-color: #ffffff; padding: 30px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); width: 100%; max-width: 500px; box-sizing: border-box; }

        .upload-area {
            border: 2px dashed #4a90e2; border-radius: 12px; background-color: #f8fbff;
            padding: 40px 20px; text-align: center; cursor: pointer; transition: all 0.3s;
            margin-bottom: 20px; position: relative;
        }
        .upload-area:hover, .upload-area.drag-over { background-color: #eef6ff; border-color: #0056b3; transform: scale(1.01); }
        .folder-icon { font-size: 48px; margin-bottom: 10px; display: block; }
        .upload-title { font-size: 16px; font-weight: bold; color: #444; margin: 5px 0; }
        .upload-desc { font-size: 13px; color: #999; margin-bottom: 8px; }

        .file-info { display: none; margin-top: 15px; padding: 10px; background: #e6f7ff; border: 1px solid #91d5ff; border-radius: 6px; color: #0050b3; font-size: 14px; }

        .input-group { margin-bottom: 20px; width: 100%; }
        .custom-input { width: 100%; padding: 14px; border: 1px solid #ddd; border-radius: 8px; font-size: 15px; box-sizing: border-box; background-color: #fafafa; outline: none; transition: 0.3s; }
        .custom-input:focus { border-color: #007bff; background-color: #fff; box-shadow: 0 0 0 3px rgba(0,123,255,0.1); }

        .analyze-btn { width: 100%; padding: 14px; background-color: #007bff; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2); transition: background 0.3s; }
        .analyze-btn:hover { background-color: #0056b3; }
        .analyze-btn:disabled { background-color: #ccc; cursor: not-allowed; box-shadow: none; }

        /* åº•éƒ¨å¯¼èˆªæ  */
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 65px; background-color: #ffffff; display: flex; justify-content: space-around; align-items: center; box-shadow: 0 -2px 15px rgba(0,0,0,0.05); z-index: 1000; border-top-left-radius: 15px; border-top-right-radius: 15px; }
        .nav-item { flex: 1; text-align: center; color: #999; font-size: 12px; cursor: pointer; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; text-decoration: none; }
        .nav-item.active { color: #007bff; font-weight: 600; }
        .nav-icon { font-size: 22px; margin-bottom: 4px; }
    </style>
</head>
<body>

    <div class="header-bar">
        <h2 class="header-title">ğŸ“‹ AI ç®€å†åˆ†æ</h2>
        <div class="header-desc">æ·±åº¦æŒ–æ˜ç®€å†äº®ç‚¹ï¼ŒåŒ¹é…æœ€ä½³å²—ä½</div>
    </div>

    <div class="container">
        <form id="analysisForm" action="/resume/" method="POST" enctype="multipart/form-data">

            <input type="file" id="fileInput" name="resume" accept=".pdf" style="display: none;" required>

            <div class="upload-area" id="dropArea">
                <span class="folder-icon">ğŸ“‚</span>
                <div id="upload-prompt">
                    <div class="upload-title">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ ç®€å†</div>
                    <div class="upload-desc">ä»…æ”¯æŒ PDF æ ¼å¼ï¼Œæœ€å¤§ 20MB</div>
                </div>
                <div id="file-display" class="file-info">
                    ğŸ“„ <span id="filename-text"></span>
                </div>
            </div>

            <div class="input-group">
                <input type="text" id="targetPosition" name="position" class="custom-input" placeholder="è¯·è¾“å…¥ç›®æ ‡å²—ä½ (ä¾‹å¦‚: Javaé«˜çº§å¼€å‘)" required>
            </div>

            <button type="submit" id="analyzeBtn" class="analyze-btn">ğŸš€ å¼€å§‹æ™ºèƒ½è¯Šæ–­</button>
        </form>
    </div>

    <nav class="bottom-nav">
        <a href="/job/" class="nav-item">
            <span class="nav-icon">ğŸ”</span>
            <span>å·¥ä½œæ£€ç´¢</span>
        </a>
        <a href="/resume/" class="nav-item active">
            <span class="nav-icon">ğŸ“‹</span>
            <span>AIç®€å†åˆ†æ</span>
        </a>
        <a href="/interview/" class="nav-item">
            <span class="nav-icon">ğŸ¤–</span>
            <span>AIé¢è¯•å®˜</span>
        </a>
        <a href="/cheer/" class="nav-item">
            <span class="nav-icon">ğŸ’–</span>
            <span>AIé¼“åŠ±å¸ˆ</span>
        </a>
    </nav>

    <script>
        const dropArea = document.getElementById('dropArea');
        const fileInput = document.getElementById('fileInput');
        const fileDisplay = document.getElementById('file-display');
        const filenameText = document.getElementById('filename-text');
        const uploadPrompt = document.getElementById('upload-prompt');
        const form = document.getElementById('analysisForm');
        const analyzeBtn = document.getElementById('analyzeBtn');

        dropArea.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', function() {
            if (this.files.length > 0) updateFileUI(this.files[0]);
        });

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, (e) => { e.preventDefault(); e.stopPropagation(); }, false);
        });
        ['dragenter', 'dragover'].forEach(eventName => { dropArea.classList.add('drag-over'); });
        ['dragleave', 'drop'].forEach(eventName => { dropArea.classList.remove('drag-over'); });

        dropArea.addEventListener('drop', (e) => {
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                fileInput.files = files;
                updateFileUI(files[0]);
            }
        });

        function updateFileUI(file) {
            if (file.type !== 'application/pdf') {
                alert('ä»…æ”¯æŒ PDF æ ¼å¼æ–‡ä»¶');
                fileInput.value = '';
                return;
            }
            filenameText.textContent = file.name;
            fileDisplay.style.display = 'block';
            uploadPrompt.style.opacity = '0.3';
        }

        form.addEventListener('submit', function(e) {
            if (fileInput.files.length === 0) {
                e.preventDefault();
                alert('è¯·å…ˆä¸Šä¼ ç®€å† PDF');
                return;
            }
            analyzeBtn.textContent = 'â³ åˆ†æç”Ÿæˆä¸­...';
            analyzeBtn.disabled = true;
        });
    </script>
</body>
</html>