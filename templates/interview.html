<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¢è¯•é…ç½® - AI Interview</title>
    <style>
        /* --- å…¨å±€æ ·å¼ --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fc; /* ç¨å¾®åå†·ç°çš„èƒŒæ™¯ */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            padding-bottom: 90px;
        }

        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.1); /* ç´«è‰²ç³»çš„é˜´å½± */
            width: 100%;
            max-width: 450px;
            box-sizing: border-box;
        }

        /* --- é¡¶éƒ¨ Header (å·®å¼‚åŒ–ï¼šå¢åŠ å›¾æ ‡) --- */
        .header-section {
            text-align: center;
            margin-bottom: 30px;
        }
        .ai-avatar {
            font-size: 48px;
            margin-bottom: 10px;
            display: inline-block;
            background: #f0f2f5;
            width: 80px;
            height: 80px;
            line-height: 80px;
            border-radius: 50%;
        }
        .header-title {
            font-size: 22px;
            color: #333;
            font-weight: 800;
            margin: 0;
        }
        .header-desc {
            color: #666;
            font-size: 14px;
            margin-top: 5px;
        }

        /* --- è¡¨å•å…ƒç´ æ ·å¼ --- */
        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 8px;
            margin-top: 20px;
        }

        .custom-input, .custom-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            box-sizing: border-box;
            background-color: #fff;
            outline: none;
            transition: all 0.3s;
            color: #2d3748;
        }
        .custom-input:focus, .custom-select:focus {
            border-color: #667eea; /* ç´«è‰²ç³»è¾¹æ¡† */
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* --- ä¸Šä¼ åŒºåŸŸ (å·®å¼‚åŒ–ï¼šæ”¹ä¸ºç´§å‡‘çš„é•¿æ¡å¡ç‰‡) --- */
        .upload-compact {
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed #cbd5e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            background-color: #f7fafc;
            color: #718096;
            gap: 10px;
        }
        .upload-compact:hover {
            border-color: #667eea;
            color: #5a67d8;
            background-color: #ebf4ff;
        }
        .upload-compact.has-file {
            border-style: solid;
            border-color: #48bb78; /* ç»¿è‰²è¡¨ç¤ºæˆåŠŸ */
            background-color: #f0fff4;
            color: #2f855a;
        }
        .upload-icon { font-size: 20px; }
        .upload-text { font-size: 14px; font-weight: 500; }

        /* --- å¯åŠ¨æŒ‰é’® (å·®å¼‚åŒ–ï¼šç´«è‰²æ¸å˜) --- */
        .start-btn {
            width: 100%;
            padding: 15px;
            margin-top: 30px;
            /* ç´«è‰²æ¸å˜èƒŒæ™¯ */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(118, 75, 162, 0.3);
            transition: transform 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }
        .start-btn:hover { transform: translateY(-2px); filter: brightness(1.1); }
        .start-btn:disabled { background: #cbd5e0; cursor: not-allowed; transform: none; box-shadow: none; }

        /* åº•éƒ¨å¯¼èˆªæ  */
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 60px; background-color: #ffffff; display: flex; justify-content: space-around; align-items: center; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 1000; }
        .nav-item { flex: 1; text-align: center; color: #999; font-size: 12px; cursor: pointer; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; }
        .nav-item.active { color: #007bff; }
        .nav-icon { font-size: 20px; margin-bottom: 3px; }
    </style>
</head>
<body>

    <div class="container">
        <div class="header-section">
            <div class="ai-avatar">ğŸ¤–</div>
            <h2 class="header-title">é¢è¯•å®˜é…ç½®</h2>
            <p class="header-desc">è¯·å®Œå–„ä¿¡æ¯ï¼ŒAI å°†ä¸ºæ‚¨ç”Ÿæˆä¸“å±é¢è¯•é¢˜ç›®</p>
        </div>

        <form id="setupForm" action="/interview/" method="POST" enctype="multipart/form-data">

            <label class="form-label">ğŸ¯ ç›®æ ‡å²—ä½</label>
            <input type="text" name="position" class="custom-input" placeholder="ä¾‹å¦‚ï¼šJava åç«¯å¼€å‘å·¥ç¨‹å¸ˆ" required>

            <label class="form-label">â³ å·¥ä½œç»éªŒ</label>
            <select name="experience" class="custom-select">
                <option value="æ— ç»éªŒ">æ— ç»éªŒ</option>
                <option value="1-3å¹´">1-3å¹´</option>
                <option value="3-5å¹´">3-5å¹´</option>
                <option value="5-10å¹´">5-10å¹´</option>
                <option value="10å¹´ä»¥ä¸Š">10å¹´ä»¥ä¸Š</option>
            </select>

            <label class="form-label">ğŸ“„ ç®€å†é™„ä»¶ (è¾…åŠ©ç”Ÿæˆé¢˜ç›®)</label>
            <input type="file" id="fileInput" name="resume" accept=".pdf" style="display: none;" required>

            <div class="upload-compact" id="uploadBtn">
                <span class="upload-icon">ğŸ“</span>
                <span class="upload-text" id="fileName">ç‚¹å‡»ä¸Šä¼  PDF ç®€å†</span>
            </div>

            <button type="submit" class="start-btn" id="startBtn">
                ç”Ÿæˆé¢˜åº“å¹¶å¼€å§‹é¢è¯• â¡
            </button>
        </form>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item" onclick="location.href='/job/'">
            <span class="nav-icon">ğŸ”</span>
            <span>å·¥ä½œæ£€ç´¢</span>
        </div>
        <div class="nav-item" onclick="location.href='/resume/'">
            <span class="nav-icon">ğŸ“‹</span>
            <span>AIç®€å†åˆ†æ</span>
        </div>
        <div class="nav-item active" onclick="location.href='/interview/'">
            <span class="nav-icon">ğŸ¤–</span>
            <span>AIé¢è¯•</span>
        </div>
    </nav>

    <script>
        const fileInput = document.getElementById('fileInput');
        const uploadBtn = document.getElementById('uploadBtn');
        const fileNameSpan = document.getElementById('fileName');
        const setupForm = document.getElementById('setupForm');
        const startBtn = document.getElementById('startBtn');

        // ä¸Šä¼ æŒ‰é’®ç‚¹å‡»é€»è¾‘
        uploadBtn.addEventListener('click', () => fileInput.click());

        // æ–‡ä»¶å˜åŒ–ç›‘å¬
        fileInput.addEventListener('change', function() {
            if (this.files.length > 0) {
                const file = this.files[0];
                if (file.type !== 'application/pdf') {
                    alert("ä»…æ”¯æŒ PDF æ–‡ä»¶æ ¼å¼");
                    this.value = '';
                    return;
                }
                // UI å˜æ›´ï¼šæ˜¾ç¤ºæ–‡ä»¶åï¼Œè¾¹æ¡†å˜ç»¿
                fileNameSpan.textContent = file.name;
                uploadBtn.classList.add('has-file');
                uploadBtn.innerHTML = `<span class="upload-icon">âœ…</span> <span class="upload-text">${file.name}</span>`;
            }
        });

        // è¡¨å•æäº¤
        setupForm.addEventListener('submit', function(e) {
            if (fileInput.files.length === 0) {
                e.preventDefault();
                alert("è¯·ä¸Šä¼ ç®€å†ä»¥ä¾¿ç”Ÿæˆé’ˆå¯¹æ€§é¢è¯•é¢˜");
                return;
            }

            // æŒ‰é’®å˜ loading
            startBtn.innerHTML = '<span>âš¡ æ­£åœ¨ç”Ÿæˆé¢è¯•é¢˜ç›®...</span>';
            startBtn.disabled = true;
            // ä¹‹åæµè§ˆå™¨ä¼šè‡ªåŠ¨ POST è·³è½¬åˆ° /interview/ é¡µé¢
        });
    </script>
</body>
</html>